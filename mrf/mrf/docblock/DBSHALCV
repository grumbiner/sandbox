C$$$  SUBPROGRAM DOCUMENTATION BLOCK
C                .      .    .                                       .
C SUBPROGRAM:   SHALCV       COMPUTES SHALLOW CONVECTIVE HEATING AND MOI
C   PRGMMR: PETER CAPLAN     ORG: W/NMC23    DATE: 91-03-19
C
C ABSTRACT: SUB-GRID-SCALE SHALLOW CONVECTIVE CLOUD PARAMETERIZATION.
C   THIS ROUTINE COMPUTES THE EFFECTS OF SHALLOW CONVECTION
C   BASED ON TIEDTKE (1984), ECMWF WORKSHOP ON CONVECTION IN
C   LARGE-SCALE NUMERICAL MODELS.
C   TAPERED K PROFILE IN CLOUD DEVELOPED BY CAPLAN AND LONG.
C   ORIGINALLY CODED BY R. KISTLER AND P. CAPLAN, CONVERTED TO STANDARD
C   FORTRAN FOR CRAY BY H.JUANG. H. PAN MODIFIED IT AND KUO91 TO
C   DO MSTADB AFTER COMPRESSION AND THE REST OF THE COMPUTATION
C   IN COMPRESSED ARRAYS. TIDY UP OF MOIST PROCESSES BY M. IREDELL.
C
C PROGRAM HISTORY LOG:
C   91-03-19  HUA-LU PAN
C   91-05-07  IREDELL             ARGUMENTS CHANGED, TRIDI2 SPLIT OFF
C
C USAGE:    CALL SHALCV(IM,KM,DT,DEL,SI,SL,SLK,KUO,PS,Q,T)
C
C   INPUT ARGUMENT LIST:
C     IM       - INTEGER NUMBER OF POINTS
C     KM       - INTEGER NUMBER OF LEVELS
C     DT       - REAL TIME STEP IN SECONDS
C     DEL      - REAL (KM) SIGMA LAYER THICKNESS
C     SL       - REAL (KM) SIGMA VALUES
C     SLK      - REAL (KM) SIGMA VALUES TO THE KAPPA
C     PS       - REAL (IM) SURFACE PRESSURE IN KILOPASCALS (CB)
C     Q        - REAL (IM,KM) CURRENT SPECIFIC HUMIDITY IN KG/KG
C     T        - REAL (IM,KM) CURRENT TEMPERATURE IN KELVIN
C
C   OUTPUT ARGUMENT LIST:
C     Q        - REAL (IM,KM) ADJUSTED SPECIFIC HUMIDITY IN KG/KG
C     T        - REAL (IM,KM) ADJUSTED TEMPERATURE IN KELVIN
C
C SUBPROGRAMS CALLED:
C   MSTADB   - COMPUTES MOIST ADIABAT AND RETURNS CLOUD VALUES
C   TRIDI2   - SOLVES TRIDIAGONAL MATRIX PROBLEM
C
C REMARKS: NONSTANDARD AUTOMATIC ARRAYS ARE USED.
C
C ATTRIBUTES:
C   LANGUAGE: FORTRAN 77.
C   MACHINE:  CRAY.
C
C$$$
